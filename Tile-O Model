namespace tile-o;

class GameDesigner {
Integer numPlayers;
Integer winningTileCoordinateX;
Integer winningTileCoordinateY;

1 <@>- * Rule;
1 <@>- 2..4 Player;
1 <@>- * Event;
1 <@>- 1 MoveableElements;
1 <@>- 1 NonMoveableElements;
1 <@>- 1 Board;


}

class Player {
autounique id;
1 -> * Action;
1 -> 1 PlayerPiece;
1 -> 1 Goal;
}

class Goal {
Boolean discoveredHiddenTile;

}

class Action {
String actualActions;
1 -> * MoveableElements;
1 -> 1 Event;
1 -> * Rule;

}

class Event {
0..1 -> 1 Board;

}

class Rule {

rules {}; /*Do later */



}

class Board {
Integer numNormalTiles;
Integer numActionTiles;
Integer numConnectionPieces;
Integer size;

1 <@>- * Tile;

}

class Deck {
//list - :[!deck:\[\s * \]];
1 <@>- 0..32 Card;
}

class Card {
instructions { ExtraTurn, ConnectTile, RemoveConnection, MovePiece, LoseTurn };
1 -> 1 Action;

}

class Tile {
autounique id;
immutable Integer coordinateX;
immutable Integer coordinateY;
Boolean hasBeenDiscovered;
Integer numConnectedPieces;
1 -> 0..4 ConnectionPiece;

}

class NormalTile {
isA Tile;
Color undiscoveredColor; /* look for color? */
Color discoveredColor; /* look for color? */

}

class ActionTile {
isA Tile;
Color color;
immutable Integer numOfSleepingTurns;
1..* -> 1 Card;
}

class Dice {
Integer generatedNum;

}

class PlayerPiece {
Integer coordinateX;
Integer coordinateY;
1 -> 1 Player;
}

class ConnectionPiece {
Boolean isUsed;
//lazy connectedTiles: Tile [0,2];

0,2 -> 1 Tile;
}


class MoveableElements {

1 -> 2..4 PlayerPiece;
1 -> 32 ConnectionPiece;
}

class NonMoveableElements {
1 -> 1 Deck;
1 -> * Tile;
1 -> 1 Dice;

}
